{% load static %}
<!DOCTYPE html>
<html>
    <head>
            <script type="text/javascript">
                var url1 = "https://api.wordnik.com/v4/word.json/";
                var theWord = "rainbow";
                var url2 = "/relatedWords?useCanonical=false&limitPerRelationshipType=10&api_key=kcje7882nvil0mgncl2kio5pudxvpsz3ym5ispkp42ig69yqw";
                var randomWordURL = "https://api.wordnik.com/v4/words.json/randomWord?hasDictionaryDef=true&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=kcje7882nvil0mgncl2kio5pudxvpsz3ym5ispkp42ig69yqw";

            
            
                function textEntered() {
                    var enterredText = document.getElementById("text-input").value;
                    document.getElementById("scan-output").value = enterredText;
                    // alert();
                }
            
                function random(theWord, callback) {
                    // var url = "https://api.wordnik.com/v4/word.json/" + theWord + "/relatedWords?useCanonical=false&limitPerRelationshipType=10&api_key=kcje7882nvil0mgncl2kio5pudxvpsz3ym5ispkp42ig69yqw";
                    alert("random went");
                    var jxhr = $.ajax ({
                        url: randomWordURL,
                        dataType: "text" ,
                        timeout: 30000
                    })
                    .success (function (data, status) {
                        var array = JSON.parse (data);
                        alert(".success went");
                        callback (array)
                    })
                    .error (function (status) {
                        alert(".error went");
                        console.log ("random: url ==" + url + ", error == " + JSON.stringify (status, undefined, 4));
                    });
 
            
                }
                </script>
    </head>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="http://static.smallpicture.com/bootstrap/js/jquery-1.9.1.min.js"></script>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
<link rel="stylesheet" type="text/css" href="{% static 'css/scansion.css' %}">
<!-- {% block body_block %} -->
<body>
<div class ="container">

    <!--Separate title box for now, might be an idea to introduce this to the base though -->
    <div class="title-box">
    <p2><h2>Analysis</h2><div class="how_to_link"><a href="{% url 'analyse_how_to' %}">Go to the How to Page</a></div>
    </p2>
    </div>
    <br>

    <br>

        <!-- Two columns: left for input, right for output. Eventually, the right will show the stresses of each word/line-->
        <div class="analyser-columns">
            <div class ="analyser-column-one" id="column-one">
                <p>Enter a text in the left column to begin:</p>
                <textarea class="form-control" type="text" name="text-input" id="text-input" value="" rows="20" placeholder="Enter text here"></textarea>
                <div class ="tab">
                    <button class="tablinks" id="analyser-button" onClick="textEntered()">Scan Text</button>
                    <button class="tablinks" id="random-button" onClick="getRandom()">Random Word</button>

                </div>
            </div>

            <div class = "analyser-column-one" id="column-two" name="column-two">
                <div class="tab">
                    <button class="tablinks" id="defaultOpen" onClick="openTab(event, 'Scanner')">Scanner</button>
                    <button class="tablinks" onClick="openTab(event, 'Editor')">Editor</button>
                </div>

                <div id="Scanner" class="tabcontent">
                    <br>
                    <textarea type="text" readonly class="form-control-plaintext" id="scan-output" value="Scan output will go here"></textarea>
                    <p>Most likely meter:</p>
                    <p>Wordcount:</p>
                    <p>Most frequent:</p>
                    <br>
                    Highlight:
                    <br>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="nouns-checkbox">
                        <label class="form-check-label" for="nouns-checkbox">Nouns</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="verbs-checkbox">
                        <label class="form-check-label" for="verbs-checkbox">Verbs</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="adjectives-checkbox">
                        <label class="form-check-label" for="adjectives-checkbox">Adjectives</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="adverbs-checkbox">
                        <label class="form-check-label" for="adverbs-checkbox">Adverbs</label>
                    </div>
                    <br>
                    <div class="form-group">
                        <input type="text" class="form-control" id="highlighted">
                        <small id="higlighterHelp class="form-text text-muted">Enter a word to be highlighted</small>
                    </div>
                </div>

                <div id="Editor" class="tabcontent">
                    <br>
                    Remove:
                    <br>
                    <br>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="nouns-checkbox">
                        <label class="form-check-label" for="nouns-checkbox">Nouns</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="verbs-checkbox">
                        <label class="form-check-label" for="verbs-checkbox">Verbs</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="adjectives-checkbox">
                        <label class="form-check-label" for="adjectives-checkbox">Adjectives</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="adverbs-checkbox">
                        <label class="form-check-label" for="adverbs-checkbox">Adverbs</label>
                    </div>
                    <br>
                    <div class="form-group">
                        <input type="text" class="form-control" id="highlighted">
                        <small id="higlighterHelp class="form-text text-muted">Enter a word to be highlighted</small>
                    </div>

                    




                </div>
            </div>

        </div>
</div>






<script>
    document.getElementById("defaultOpen").click();

    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;

        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        tablinks =document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
    }
</script>

<script>
function getRandom() {
    random("rainbow", function (words) {
    alert("callback went");
    document.getElementById("scan-output").innerHTML = words.word;
    });
}


        </script>
    </body>
</html>
<!-- {% endblock %} -->